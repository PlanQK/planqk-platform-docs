<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Automate PlanQK using Python | PlanQK Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/material-symbols/outlined.css">
    <link rel="stylesheet" href="/material-symbols/customization.css">
    <link rel="stylesheet" href="/fontawesome/css/all.css">
    <script defer="defer" data-domain="docs.platform.planqk.de" src="https://plausible.anaqor.io/js/script.outbound-links.file-downloads.tagged-events.js"></script>
    <meta name="description" content="PlanQK Docs - Platform and Ecosystem for Quantum Applications">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.637df5cf.css" as="style"><link rel="preload" href="/assets/js/app.05958cb9.js" as="script"><link rel="preload" href="/assets/js/2.acda9268.js" as="script"><link rel="preload" href="/assets/js/1.cf86e968.js" as="script"><link rel="preload" href="/assets/js/73.3ebed1b8.js" as="script"><link rel="prefetch" href="/assets/js/10.ce49439f.js"><link rel="prefetch" href="/assets/js/11.e8d19a4b.js"><link rel="prefetch" href="/assets/js/12.4198bb3e.js"><link rel="prefetch" href="/assets/js/13.0a27fdb0.js"><link rel="prefetch" href="/assets/js/14.dd66ed3e.js"><link rel="prefetch" href="/assets/js/15.5edd316a.js"><link rel="prefetch" href="/assets/js/16.faff0015.js"><link rel="prefetch" href="/assets/js/17.59a27870.js"><link rel="prefetch" href="/assets/js/18.f6493fcc.js"><link rel="prefetch" href="/assets/js/19.fdfe9baa.js"><link rel="prefetch" href="/assets/js/20.545f3679.js"><link rel="prefetch" href="/assets/js/21.9166dba7.js"><link rel="prefetch" href="/assets/js/22.e3da8f0b.js"><link rel="prefetch" href="/assets/js/23.b9dfda29.js"><link rel="prefetch" href="/assets/js/24.03fdae1b.js"><link rel="prefetch" href="/assets/js/25.a55846fa.js"><link rel="prefetch" href="/assets/js/26.226f71b8.js"><link rel="prefetch" href="/assets/js/27.bb6a2c25.js"><link rel="prefetch" href="/assets/js/28.d55ee4c9.js"><link rel="prefetch" href="/assets/js/29.f78f3526.js"><link rel="prefetch" href="/assets/js/3.746032a3.js"><link rel="prefetch" href="/assets/js/30.97def951.js"><link rel="prefetch" href="/assets/js/31.b816dc12.js"><link rel="prefetch" href="/assets/js/32.2f23c728.js"><link rel="prefetch" href="/assets/js/33.e5a8d9c0.js"><link rel="prefetch" href="/assets/js/34.c52d849b.js"><link rel="prefetch" href="/assets/js/35.9cc31a0d.js"><link rel="prefetch" href="/assets/js/36.1f2590b7.js"><link rel="prefetch" href="/assets/js/37.96bf9d5f.js"><link rel="prefetch" href="/assets/js/38.7f7a759b.js"><link rel="prefetch" href="/assets/js/39.19e86271.js"><link rel="prefetch" href="/assets/js/4.2b03963c.js"><link rel="prefetch" href="/assets/js/40.eac5173b.js"><link rel="prefetch" href="/assets/js/41.cb8db225.js"><link rel="prefetch" href="/assets/js/42.fb440fee.js"><link rel="prefetch" href="/assets/js/43.57b65087.js"><link rel="prefetch" href="/assets/js/44.89ed1dcc.js"><link rel="prefetch" href="/assets/js/45.d704ce4f.js"><link rel="prefetch" href="/assets/js/46.6fd42564.js"><link rel="prefetch" href="/assets/js/47.6244d42f.js"><link rel="prefetch" href="/assets/js/48.e409e0d8.js"><link rel="prefetch" href="/assets/js/49.228d5b09.js"><link rel="prefetch" href="/assets/js/5.e52cc9a6.js"><link rel="prefetch" href="/assets/js/50.cff1ba6e.js"><link rel="prefetch" href="/assets/js/51.84a7c46e.js"><link rel="prefetch" href="/assets/js/52.5f7ef8ba.js"><link rel="prefetch" href="/assets/js/53.0947e9e3.js"><link rel="prefetch" href="/assets/js/54.1f44e56b.js"><link rel="prefetch" href="/assets/js/55.f1a7e698.js"><link rel="prefetch" href="/assets/js/56.c4dcecf5.js"><link rel="prefetch" href="/assets/js/57.1de25ba9.js"><link rel="prefetch" href="/assets/js/58.fd3df8da.js"><link rel="prefetch" href="/assets/js/59.c5fadc31.js"><link rel="prefetch" href="/assets/js/6.34ff08e3.js"><link rel="prefetch" href="/assets/js/60.7bde9e3d.js"><link rel="prefetch" href="/assets/js/61.f3a7e6bb.js"><link rel="prefetch" href="/assets/js/62.09384c59.js"><link rel="prefetch" href="/assets/js/63.eb8467c1.js"><link rel="prefetch" href="/assets/js/64.03a24e27.js"><link rel="prefetch" href="/assets/js/65.aa53b344.js"><link rel="prefetch" href="/assets/js/66.f86993a5.js"><link rel="prefetch" href="/assets/js/67.61892c01.js"><link rel="prefetch" href="/assets/js/68.23868e81.js"><link rel="prefetch" href="/assets/js/69.72aafe65.js"><link rel="prefetch" href="/assets/js/7.de9c1511.js"><link rel="prefetch" href="/assets/js/70.9528684e.js"><link rel="prefetch" href="/assets/js/71.36ce469a.js"><link rel="prefetch" href="/assets/js/72.2a182164.js"><link rel="prefetch" href="/assets/js/74.69a729cf.js"><link rel="prefetch" href="/assets/js/75.8bebdd76.js"><link rel="prefetch" href="/assets/js/76.58491d71.js"><link rel="prefetch" href="/assets/js/77.a9350b63.js"><link rel="prefetch" href="/assets/js/78.a50244c5.js"><link rel="prefetch" href="/assets/js/79.39965a2e.js"><link rel="prefetch" href="/assets/js/80.73100ad3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.857e8e87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.637df5cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/planqk.png" alt="PlanQK Docs" class="logo"> <span class="site-name can-hide">PlanQK Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link router-link-active">
  Tutorials &amp; Cookbooks
</a></div><div class="nav-item"><a href="https://www.planqk.de" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PlanQK Platform
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.planqk.de/pricing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pricing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://join.slack.com/t/planqk-platform/shared_invite/zt-1b4899wqr-xqOYLSCr8KqYkREi251NxQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link router-link-active">
  Tutorials &amp; Cookbooks
</a></div><div class="nav-item"><a href="https://www.planqk.de" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PlanQK Platform
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.planqk.de/pricing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pricing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://join.slack.com/t/planqk-platform/shared_invite/zt-1b4899wqr-xqOYLSCr8KqYkREi251NxQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tutorials</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorials/tutorial-dwave.html" class="sidebar-link">D-Wave Service on PlanQK</a></li><li><a href="/tutorials/tutorial-qiskit.html" class="sidebar-link">Execute Qiskit Circuits using the PlanQK Quantum SDK</a></li><li><a href="/tutorials/tutorial-meter-external-service.html" class="sidebar-link">Create and Test an On-premise Service</a></li><li><a href="/tutorials/tutorial-local-testing-with-cli-and-service-sdk.html" class="sidebar-link">Utilize the PlanQK Service SDK for Local Development</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Cookbooks</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorials/cookbook-java.html" class="sidebar-link">Automate PlanQK using Java</a></li><li><a href="/tutorials/cookbook-python.html" aria-current="page" class="active sidebar-link">Automate PlanQK using Python</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-set-up-a-planqk-integration-project" class="sidebar-link">How to set up a PlanQK integration project?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-authenticate-with-the-planqk-platform" class="sidebar-link">How to authenticate with the PlanQK platform?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-create-a-managed-planqk-service" class="sidebar-link">How to create a managed PlanQK Service?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-wait-until-a-managed-planqk-service-has-been-built-by-the-planqk-platform" class="sidebar-link">How to wait until a managed PlanQK Service has been built by the PlanQK Platform?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-connect-a-self-hosted-service-with-the-planqk-platform" class="sidebar-link">How to connect a self-hosted service with the PlanQK Platform?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-update-a-planqk-service" class="sidebar-link">How to update a PlanQK Service?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-delete-a-planqk-service" class="sidebar-link">How to delete a PlanQK Service?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-make-my-planqk-service-accessible-to-other-users" class="sidebar-link">How to make my PlanQK Service accessible to other users?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-create-a-planqk-application" class="sidebar-link">How to create a PlanQK Application?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-delete-a-planqk-application" class="sidebar-link">How to delete a PlanQK Application?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-subscribe-to-internally-published-planqk-services" class="sidebar-link">How to subscribe to internally published PlanQK Services?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-subscribe-to-planqk-services-published-in-the-planqk-marketplace" class="sidebar-link">How to subscribe to PlanQK Services published in the PlanQK Marketplace?</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#working-with-planqk-organizations" class="sidebar-link">Working with PlanQK Organizations</a></li><li class="sidebar-sub-header"><a href="/tutorials/cookbook-python.html#how-to-execute-a-planqk-service" class="sidebar-link">How to execute a PlanQK service?</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="automate-planqk-using-python"><a href="#automate-planqk-using-python" class="header-anchor">#</a> Automate PlanQK using Python</h1> <p>This cookbook for python contains general instructions and recipes on how to programmatically perform certain tasks within the PlanQK Platform.
The instructions are written as step-by-step guides on which you can follow like a usual tutorial.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>The cookbook uses a Python code generator to create a <a href="https://platform.planqk.de/qc-catalog/swagger-ui/index.html" target="_blank" rel="noopener noreferrer">PlanQK Platform API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> client to perform certain operations.
A general API description of all supported operations can be found <a href="https://platform.planqk.de/qc-catalog/swagger-ui/index.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <h2 id="how-to-set-up-a-planqk-integration-project"><a href="#how-to-set-up-a-planqk-integration-project" class="header-anchor">#</a> How to set up a PlanQK integration project?</h2> <p>First of all, create a project folder.
Afterwards, create the following folder structure and files:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
├── requirements.txt
└── src
    └── application.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>A complete Python project including a couple of example can be found <a href="https://github.com/PlanQK/planqk-platform-samples/tree/master/planqk-api/python/planqk-samples" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>You can set up a new Python virtual environment for your project, e.g., you may use Conda and the following commands:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>conda <span class="token function">env</span> create <span class="token parameter variable">-f</span> environment.yml
conda activate planqk-samples
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>After we have the proper structure we have to install the required third-party dependencies.
Add the following third-party dependencies to your local <code>requirements.txt</code> file:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>certifi &gt;= 14.5.14
frozendict ~= 2.3.4
python-dateutil ~= 2.7.0
setuptools &gt;= 21.0.0
typing_extensions ~= 4.3.0
urllib3 ~= 1.26.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Afterwards, execute the following command to install them:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>After the installation of the <code>requirements.txt</code> we can install the <a href="https://openapi-generator.tech/docs/installation" target="_blank" rel="noopener noreferrer">openapi-generator-cli<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> @openapitools/openapi-generator-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Generate the API client project in a new directory and don't forget to copy it in your <code>./src</code> folder like shown below:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> generator-output <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> generator-output

openapi-generator-cli version-manager <span class="token builtin class-name">set</span> <span class="token number">5.4</span>.0
openapi-generator-cli generate <span class="token parameter variable">-g</span> python <span class="token parameter variable">-i</span> https://platform.planqk.de/qc-catalog/v3/api-docs
<span class="token function">cp</span> <span class="token parameter variable">-R</span> openapi_client <span class="token punctuation">..</span>/src
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="how-to-authenticate-with-the-planqk-platform"><a href="#how-to-authenticate-with-the-planqk-platform" class="header-anchor">#</a> How to authenticate with the PlanQK platform?</h2> <p>First of all, create a python script called <code>application.py</code>.
You may place this file into <code>./src</code> or into your desired package structure.</p> <p>Add the following content as a minimal baseline:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> openapi_client<span class="token punctuation">.</span>configuration <span class="token keyword">import</span> Configuration
<span class="token keyword">from</span> openapi_client<span class="token punctuation">.</span>api_client <span class="token keyword">import</span> ApiClient

api_key <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'apiKey'</span><span class="token punctuation">:</span> <span class="token string">'Your personal access token'</span><span class="token punctuation">}</span>
configuration <span class="token operator">=</span> Configuration<span class="token punctuation">(</span>api_key<span class="token operator">=</span>api_key<span class="token punctuation">)</span>

api_client <span class="token operator">=</span> ApiClient<span class="token punctuation">(</span>configuration<span class="token operator">=</span>configuration<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Next, you have to create a <a href="https://platform.planqk.de/settings/access-tokens" target="_blank" rel="noopener noreferrer">personal access token<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <ol><li>Log-in to the PlanQK Platform and go to <code>Settings &gt; Personal Access Tokens</code>.</li> <li>Click on <strong>Add Access Token.</strong></li> <li>Select an unique name for your token.</li> <li>At least select the <code>api</code> scope for the new token.</li> <li>After the token is generated, copy it and use it to authenticate with PlanQK as shown in the example below.</li></ol> <p>Add your token to the respective <code>api_key</code> dictionary:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>api_key <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'apiKey'</span><span class="token punctuation">:</span> <span class="token string">'Your personal access token'</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To verify the communication with the PlanQK Platform,
you may add the following code and afterwards execute the created <code>application.py</code> script:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># API interface to manage PlanQK Services</span>
service_api <span class="token operator">=</span> ServicePlatformServicesApi<span class="token punctuation">(</span>api_client<span class="token operator">=</span>api_client<span class="token punctuation">)</span>

lifecycle <span class="token operator">=</span> <span class="token string">&quot;CREATED&quot;</span>
service_api<span class="token punctuation">.</span>get_services<span class="token punctuation">(</span>lifecycle<span class="token operator">=</span>lifecycle<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/authentication_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-create-a-managed-planqk-service"><a href="#how-to-create-a-managed-planqk-service" class="header-anchor">#</a> How to create a managed PlanQK Service?</h2> <p>In the following we assume you already have a PlanQK Service implemented and the zipped code archive ready to use.
For the following tutorial, you just need to download the <a href="https://storage.googleapis.com/yeoman-templates/latest/template.zip" target="_blank" rel="noopener noreferrer">PlanQK user code template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and rename it to <code>user_code.zip</code>.</p> <details class="custom-block details"><summary>DETAILS</summary> <p>However, to implement a fresh new PlanQK Service for the PlanQK Platform you need to complete the following prerequisites:</p> <ol><li>First, you need to download or generate the PlanQK user code template as explained in the <a href="/managed-services/introduction.html">documentation</a>.</li> <li>Implement your service logic by modifying the PlanQK user code template according to your business requirements.</li> <li>Before deploying it to the PlanQK platform, you should test the correct behaviour of your service on your local machine.
This will help you to identify and correct potential errors before the actual deployment process.</li> <li>Create a ZIP archive of your PlanQK Service code.</li> <li>Although not absolutely necessary for providing a service, we do strongly recommend to write an <a href="/managed-services/managed-services-api-spec.html">API description</a> for your PlanQK service.
This API description gives users of the service a manual on how they are able to communicate with the service, namely how they can send the input for problems and receive the solutions.</li></ol></details> <p>Now, that you have your zip archive ready (e.g., a file called <code>user_code.zip</code>), you have to specify the following information to create a PlanQK Service programmatically:</p> <table><thead><tr><th>Attribute name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>name</code></td> <td>Your desired name for your PlanQK Service (required)</td></tr> <tr><td><code>description</code></td> <td>A detailed description of your service (optional)</td></tr> <tr><td><code>userCode</code></td> <td>For managed services, specify the path to your zipped code archive</td></tr> <tr><td><code>apiDefinition</code></td> <td>Specify the path to your OpenAPI description for your service (optional)</td></tr></tbody></table> <p>Extend your <code>application.py</code> script and add the following:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># API interface to manage PlanQK Services</span>
service_api <span class="token operator">=</span> ServicePlatformServicesApi<span class="token punctuation">(</span>api_client<span class="token operator">=</span>api_client<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
At the moment each managed PlanQK Service may communicate with exactly one quantum cloud provider,
 e.g., with IBM Quantum Cloud or D-Wave Leap. To configure the service properly, you may uncomment
 one of the following lines.
&quot;&quot;&quot;</span>
quantumBackend <span class="token operator">=</span> <span class="token string">&quot;NONE&quot;</span>  <span class="token comment"># Default value</span>
<span class="token comment"># quantumBackend = &quot;IBM&quot;;</span>
<span class="token comment"># quantumBackend = &quot;DWAVE&quot;;</span>

name <span class="token operator">=</span> <span class="token string">&quot;Your service name&quot;</span>
description <span class="token operator">=</span> <span class="token string">&quot;Your service description&quot;</span>
use_platform_token <span class="token operator">=</span> <span class="token string">&quot;FALSE&quot;</span>  <span class="token comment"># FALSE to use own backend tokens in case 'quantumBackend' is 'DWAVE', 'IBM' etc.</span>
cpu <span class="token operator">=</span> <span class="token number">500</span>  <span class="token comment"># minimum</span>
memory <span class="token operator">=</span> <span class="token number">2048</span>  <span class="token comment"># default memory configuration: 2048 = 2GB</span>
user_code <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the user_code.zip file'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
api_definition <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the OpenAPI definition'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
user_code <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the user_code.zip file'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
api_definition <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the OpenAPI definition'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>

service <span class="token operator">=</span> services_api<span class="token punctuation">.</span>create_managed_service<span class="token punctuation">(</span>
    name<span class="token operator">=</span>name<span class="token punctuation">,</span>
    quantum_backend<span class="token operator">=</span>quantumBackend<span class="token punctuation">,</span>
    description<span class="token operator">=</span>description<span class="token punctuation">,</span>
    use_platform_token<span class="token operator">=</span>use_platform_token<span class="token punctuation">,</span>
    cpu<span class="token operator">=</span>cpu<span class="token punctuation">,</span>
    memory<span class="token operator">=</span>memory<span class="token punctuation">,</span>
    user_code<span class="token operator">=</span>user_code<span class="token punctuation">,</span>
    api_definition<span class="token operator">=</span>api_definition
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>The service creation takes approx. one or two minutes to complete.
You can go to <a href="https://platform.planqk.de/services" target="_blank" rel="noopener noreferrer">My Services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and observe the build status.</p> <p>A PlanQK Service can have multiple versions.
Therefore, each service object has a list of so-called <em>service definitions</em> aka. <em>versions</em>.
However, at the moment, there will always be one service definition.
In the future, you will be able to maintain multiple versions of your service with this.</p> <p>Extend your <code>application.py</code> as follows:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>version <span class="token operator">=</span> service<span class="token punctuation">.</span>service_definitions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/create_managed_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-wait-until-a-managed-planqk-service-has-been-built-by-the-planqk-platform"><a href="#how-to-wait-until-a-managed-planqk-service-has-been-built-by-the-planqk-platform" class="header-anchor">#</a> How to wait until a managed PlanQK Service has been built by the PlanQK Platform?</h2> <p>As mentioned above the service creation takes approx. one or two minutes to complete.
Hence, you need to wait for the creation process to be completed.</p> <p>The following code block shows some boilerplate code to wait until the PlanQK Service has been successfully created:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
Waits up to 5 minutes till the PlanQK Service has been created.
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">wait_for_service_to_be_created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    timer <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment"># Check build status</span>
    build_status <span class="token operator">=</span> service_api<span class="token punctuation">.</span>get_build_status<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> build_status<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'WORKING'</span> <span class="token keyword">or</span> build_status<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'QUEUED'</span><span class="token punctuation">:</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
        timer <span class="token operator">+=</span> <span class="token number">15</span>
        <span class="token keyword">if</span> timer <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>
        <span class="token comment"># Check build status again to see if job failed or succeeded</span>
        build_status <span class="token operator">=</span> service_api<span class="token punctuation">.</span>get_build_status<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> build_status<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'SUCCESS'</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Service successfully created&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">elif</span> build_status<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'FAILURE'</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Error creating PlanQK Service&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>You may adapt the code above with your own logic before use this in any production-like environment.</p></div> <p>Add the above method to your <code>application.py</code> and call it.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>wait_for_service_to_be_created<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/create_managed_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-connect-a-self-hosted-service-with-the-planqk-platform"><a href="#how-to-connect-a-self-hosted-service-with-the-planqk-platform" class="header-anchor">#</a> How to connect a self-hosted service with the PlanQK Platform?</h2> <p>You can connect a self-hosted service with the PlanQK Platform by creating a so-called &quot;external&quot; service
if you just want the PlanQK platform to manage the access to it.</p> <p>The following properties are required to create a self-hosted PlanQK Service:</p> <table><thead><tr><th>Attribute name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>name</code></td> <td>Your desired name for your PlanQK Service (required)</td></tr> <tr><td><code>quantumBackend</code></td> <td>The quantum backend your self-hosted service uses. Options: <code>NONE</code>, <code>DWAVE</code>, <code>IBM</code> (required)</td></tr> <tr><td><code>description</code></td> <td>A detailed description of your service (optional)</td></tr> <tr><td><code>productionEndpoint</code></td> <td>Supply a valid URL to your self-hosted service (required)</td></tr> <tr><td><code>apiDefinition</code></td> <td>Specify the path to your OpenAPI description for your service (optional)</td></tr></tbody></table> <p>Extend or adapt your <code>application.py</code> script and add the following:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># API interface to manage PlanQK Services</span>
service_api <span class="token operator">=</span> ServicePlatformServicesApi<span class="token punctuation">(</span>api_client<span class="token operator">=</span>api_client<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
Uncomment one of the following lines if your self-hosted service communicates with of the quantum cloud providers,
e.g., with IBM Quantum Cloud or D-Wave Leap.
&quot;&quot;&quot;</span>
quantumBackend <span class="token operator">=</span> <span class="token string">&quot;NONE&quot;</span>  <span class="token comment"># Default value</span>
<span class="token comment"># quantumBackend = &quot;IBM&quot;;</span>
<span class="token comment"># quantumBackend = &quot;DWAVE&quot;;</span>

name <span class="token operator">=</span> <span class="token string">&quot;Your service name&quot;</span>
production_endpoint <span class="token operator">=</span> <span class="token string">&quot;Your public endpoint URL&quot;</span>
description <span class="token operator">=</span> <span class="token string">&quot;Your service description&quot;</span>
api_definition <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;Absolute path to your OpenAPI definition&quot;</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>

service <span class="token operator">=</span> service_api<span class="token punctuation">.</span>create_external_service<span class="token punctuation">(</span>
    name<span class="token operator">=</span>name<span class="token punctuation">,</span>
    url<span class="token operator">=</span>production_endpoint<span class="token punctuation">,</span>
    quantum_backend<span class="token operator">=</span>quantumBackend<span class="token punctuation">,</span>
    description<span class="token operator">=</span>description<span class="token punctuation">,</span>
    api_definition<span class="token operator">=</span>api_definition
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>In this case, it is not necessary to wait for the service to be created.
You are immediately able to work with your new service like described in the following sections.</p> <p>A PlanQK Service can have multiple versions.
Therefore, each service object has a list of so-called <em>service definitions</em> aka. <em>versions</em>.
However, at the moment, there will always be one service definition.
In the future, you will be able to maintain multiple versions of your service with this.</p> <p>Extend your <code>application.py</code> as follows:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>version <span class="token operator">=</span> service<span class="token punctuation">.</span>service_definitions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/create_external_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-update-a-planqk-service"><a href="#how-to-update-a-planqk-service" class="header-anchor">#</a> How to update a PlanQK Service?</h2> <p>You may update your service in case you want to change certain information.
The following attributes can be updated:</p> <ul><li>The description of your service</li> <li>The related industries your service can be used in</li> <li>Your API definition describing the service interface</li> <li>The updated service code supplied inside a zip archive</li></ul> <p>As a prerequisite, you need a ready to use PlanQK Service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>service <span class="token operator">=</span> services_api<span class="token punctuation">.</span>create_managed_service<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;...&quot;&quot;&quot;</span><span class="token punctuation">)</span>
version <span class="token operator">=</span> service<span class="token punctuation">.</span>service_definitions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

wait_for_service_to_be_created<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Alternatively, you may search for an existing PlanQK Service using its ID or by its name.</p> <ul><li>Search by ID:</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>service <span class="token operator">=</span> services_api<span class="token punctuation">.</span>get_service<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">id</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Search by name:</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>lifecycle <span class="token operator">=</span> <span class="token string">'CREATED'</span>
services <span class="token operator">=</span> services_api<span class="token punctuation">.</span>get_services<span class="token punctuation">(</span>lifecycle<span class="token operator">=</span>lifecycle<span class="token punctuation">)</span>

found_service <span class="token operator">=</span> <span class="token boolean">None</span>
name <span class="token operator">=</span> <span class="token string">&quot;My service name&quot;</span>

<span class="token comment"># Filter the list by name</span>
<span class="token keyword">for</span> service <span class="token keyword">in</span> services<span class="token punctuation">:</span>
   <span class="token keyword">if</span> service<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
      found_service <span class="token operator">=</span> service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Update description and related industries:</strong></p> <p>First, you need to retrieve a list of all industries and select an appropriate industry id to be assigned to your service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># Retrieve a list of available industries</span>
industries <span class="token operator">=</span> services_api<span class="token punctuation">.</span>get_industries<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Retrieve 'information_technology' industry from the list</span>
information_technology <span class="token operator">=</span> <span class="token boolean">None</span>
industry_name <span class="token operator">=</span> <span class="token string">'information_technology'</span>
<span class="token keyword">for</span> industry <span class="token keyword">in</span> industries<span class="token punctuation">:</span>
    <span class="token keyword">if</span> industry<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> industry_name<span class="token punctuation">:</span>
        information_technology <span class="token operator">=</span> IndustryDto<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>industry<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> name<span class="token operator">=</span>industry<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Then, use the following code to update your service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>update_version_request <span class="token operator">=</span> UpdateVersionRequest<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">&quot;Updated description&quot;</span><span class="token punctuation">,</span> industries<span class="token operator">=</span><span class="token punctuation">[</span>information_technology<span class="token punctuation">]</span><span class="token punctuation">)</span>
version <span class="token operator">=</span> services_api<span class="token punctuation">.</span>update_service_version<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>update_version_request<span class="token operator">=</span>update_version_request<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>To remove all assigned industries, apply the following code:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>update_version_request <span class="token operator">=</span> UpdateVersionRequest<span class="token punctuation">(</span>industries<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
version <span class="token operator">=</span> services_api<span class="token punctuation">.</span>update_service_version<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> update_version_request<span class="token operator">=</span>update_version_request<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Update your service code:</strong></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>updated_user_code <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Path to the updated user_code.zip file'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
services_api<span class="token punctuation">.</span>update_source_code<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> source_code<span class="token operator">=</span>updated_user_code<span class="token punctuation">)</span>

wait_for_service_to_be_created<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Update your API definition:</strong></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>updated_api_definition <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Path to the updated API definition'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
services_api<span class="token punctuation">.</span>update_api_definition<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span>updated_api_definition<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/update_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-delete-a-planqk-service"><a href="#how-to-delete-a-planqk-service" class="header-anchor">#</a> How to delete a PlanQK Service?</h2> <p>Assuming you already created a PlanQK Service, you can delete it by using its ID and the <code>delete_service()</code> method.
To get a PlanQK Service ID, you may search for an existing service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>lifecycle <span class="token operator">=</span> <span class="token string">'CREATED'</span>
services <span class="token operator">=</span> services_api<span class="token punctuation">.</span>get_services<span class="token punctuation">(</span>lifecycle<span class="token operator">=</span>lifecycle<span class="token punctuation">)</span>

found_service <span class="token operator">=</span> <span class="token boolean">None</span>
name <span class="token operator">=</span> <span class="token string">&quot;My service name&quot;</span>

<span class="token comment"># Filter the list by name</span>
<span class="token keyword">for</span> service <span class="token keyword">in</span> services<span class="token punctuation">:</span>
   <span class="token keyword">if</span> service<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
      found_service <span class="token operator">=</span> service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Afterwards, you can add the following to your <code>application.py</code>:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>services_api<span class="token punctuation">.</span>delete_service<span class="token punctuation">(</span>found_service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/find_and_delete_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-make-my-planqk-service-accessible-to-other-users"><a href="#how-to-make-my-planqk-service-accessible-to-other-users" class="header-anchor">#</a> How to make my PlanQK Service accessible to other users?</h2> <p>There are two ways to make a service accessible for other users:
(1) You can publish your service internally to run PlanQK Jobs or test its correct behaviour or
(2) publicly via the PlanQK Marketplace if you want to monetize your service.</p> <h3 id="publish-service-internally"><a href="#publish-service-internally" class="header-anchor">#</a> Publish service internally</h3> <p>Assuming you already created a PlanQK Service, you can add the following to your <code>application.py</code>:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>version <span class="token operator">=</span> services_api<span class="token punctuation">.</span>publish_service_internal<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You may check if your service is in the correct lifecycle state:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">if</span> version<span class="token punctuation">.</span>lifecycle <span class="token operator">==</span> <span class="token string">&quot;ACCESSIBLE&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;service successfully published&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/publish_service_internal_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="publish-service-to-planqk-marketplace"><a href="#publish-service-to-planqk-marketplace" class="header-anchor">#</a> Publish service to PlanQK Marketplace</h3> <p>Assuming you already created a PlanQK Service, you can add the following to your <code>application.py</code>:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>version <span class="token operator">=</span> services_api<span class="token punctuation">.</span>publish_service<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You may check if your service is in the correct lifecycle state:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">if</span> version<span class="token punctuation">.</span>lifecycle <span class="token operator">==</span> <span class="token string">&quot;PUBLISHED&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;service successfully published&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/publish_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="unpublish-a-planqk-service"><a href="#unpublish-a-planqk-service" class="header-anchor">#</a> Unpublish a PlanQK Service</h3> <p>Either way, you can use the following code to simply unpublish your PlanQK Service again:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>services_api<span class="token punctuation">.</span>unpublish_service<span class="token punctuation">(</span>service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> version_id<span class="token operator">=</span>version<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="how-to-create-a-planqk-application"><a href="#how-to-create-a-planqk-application" class="header-anchor">#</a> How to create a PlanQK Application?</h2> <p>To access any PlanQK Service programmatically, you have to create a PlanQK Application.
A PlanQK Application conveys the credentials used to authenticate your PlanQK Service execution requests.
Further, a PlanQK Application is used to subscribe to one or more PlanQK Services - either your own services or services from other users.
This means, the PlanQK Application itself handles the <em>authentication</em> and a subscription to a service handles the <em>authorization</em>.</p> <p>Extend the <code>application.py</code> as follows:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># API interface to manage PlanQK Applications</span>
application_api <span class="token operator">=</span> ServicePlatformApplicationsApi<span class="token punctuation">(</span>api_client<span class="token operator">=</span>api_client<span class="token punctuation">)</span>

application_name <span class="token operator">=</span> <span class="token string">&quot;My Application&quot;</span>
create_app_request <span class="token operator">=</span> CreateApplicationRequest<span class="token punctuation">(</span>name<span class="token operator">=</span>application_name<span class="token punctuation">)</span>
application <span class="token operator">=</span> application_api<span class="token punctuation">.</span>create_application<span class="token punctuation">(</span>create_app_request<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/create_application_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-delete-a-planqk-application"><a href="#how-to-delete-a-planqk-application" class="header-anchor">#</a> How to delete a PlanQK Application?</h2> <p>Assuming you already created a PlanQK Application, you can delete it by using its ID and the <code>delete_application()</code> method.
To get a PlanQK Service ID, you may search for an existing service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>applications <span class="token operator">=</span> applications_api<span class="token punctuation">.</span>get_applications<span class="token punctuation">(</span><span class="token punctuation">)</span>

found_application <span class="token operator">=</span> <span class="token boolean">None</span>
name <span class="token operator">=</span> <span class="token string">'My Application'</span>

<span class="token comment"># Filter the list by name</span>
<span class="token keyword">for</span> application <span class="token keyword">in</span> applications<span class="token punctuation">:</span>
   <span class="token keyword">if</span> application<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
      found_application <span class="token operator">=</span> application
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Afterwards, you can add the following to your <code>application.py</code> to delete your PlanQK Application:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>applications_api<span class="token punctuation">.</span>delete_application<span class="token punctuation">(</span>found_application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/find_and_delete_application_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-subscribe-to-internally-published-planqk-services"><a href="#how-to-subscribe-to-internally-published-planqk-services" class="header-anchor">#</a> How to subscribe to internally published PlanQK Services?</h2> <p>To test the correct behaviour of your own services you may publish it <em>for internal use</em>.
This means only you can subscribe to it by a PlanQK Application.</p> <p>As a prerequisite for the subscription you need a PlanQK Service:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>service <span class="token operator">=</span> services_api<span class="token punctuation">.</span>create_managed_service<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;...&quot;&quot;&quot;</span><span class="token punctuation">)</span>
version <span class="token operator">=</span> service<span class="token punctuation">.</span>service_definitions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

wait_for_service_to_be_created<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Then, publish your new service internally:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>version <span class="token operator">=</span> services_api<span class="token punctuation">.</span>publish_service_internal<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;...&quot;&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Afterwards, you have to create a PlanQK Application to establish a subscription:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>application <span class="token operator">=</span> application_api<span class="token punctuation">.</span>create_application<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;...&quot;&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Finally, create a <em>subscription request</em> object and trigger the operation:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>subscription_request <span class="token operator">=</span> CreateInternalSubscriptionRequest<span class="token punctuation">(</span>application_id<span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
applications_api<span class="token punctuation">.</span>create_internal_subscription<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> create_internal_subscription_request<span class="token operator">=</span>subscription_request<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You may add the following code to retrieve a list of all active subscriptions:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>subscriptions <span class="token operator">=</span> applications_api<span class="token punctuation">.</span>get_application_subscriptions<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/subscribe_internal_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-subscribe-to-planqk-services-published-in-the-planqk-marketplace"><a href="#how-to-subscribe-to-planqk-services-published-in-the-planqk-marketplace" class="header-anchor">#</a> How to subscribe to PlanQK Services published in the PlanQK Marketplace?</h2> <p>Whenever you want to interact with services from the marketplace, you must be subscribed to them with an application.
Applications hold all necessary information, e.g., authentication credentials, for a secure communication with the service from an external source.</p> <p>In this step, we assume you want to subscribe to any service in the PlanQK Marketplace (which is not necessarily yours).</p> <p>As a prerequisite for the subscription you need a PlanQK Application:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>application <span class="token operator">=</span> application_api<span class="token punctuation">.</span>create_application<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;...&quot;&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>At this stage, you have two options:
(1) You may search for a service in PlanQK Marketplace programmatically, e.g., by the service name, or
(2) you may look up the PlanQK Service ID on the PlanQK Platform (<code>Marketplace &gt; Services &gt; Service Details &gt; Technical Specifications</code>) to directly subscribe to it.</p> <h3 id="search-by-name-programmatically"><a href="#search-by-name-programmatically" class="header-anchor">#</a> Search by name programmatically</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># Get all available PlanQK Services</span>
services <span class="token operator">=</span> marketplace_api<span class="token punctuation">.</span>find_services<span class="token punctuation">(</span><span class="token punctuation">)</span>

found_service <span class="token operator">=</span> <span class="token boolean">None</span>
name <span class="token operator">=</span> <span class="token string">&quot;My Service Name&quot;</span>

<span class="token comment"># Filter the list by name</span>
<span class="token keyword">for</span> service <span class="token keyword">in</span> services<span class="token punctuation">:</span>
    <span class="token keyword">if</span> service<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
       found_service <span class="token operator">=</span> service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="use-planqk-service-id-found-on-planqk-platform"><a href="#use-planqk-service-id-found-on-planqk-platform" class="header-anchor">#</a> Use PlanQK Service ID found on PlanQK Platform</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>service <span class="token operator">=</span> marketplace_api<span class="token punctuation">.</span>find_service<span class="token punctuation">(</span><span class="token operator">&lt;</span>service <span class="token builtin">id</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="select-a-suitable-pricing-plan"><a href="#select-a-suitable-pricing-plan" class="header-anchor">#</a> Select a suitable pricing plan</h3> <p>Each PlanQK Service has at least one pricing plan.
You must select a suitable one, either a &quot;free&quot; plan if available of a &quot;paid&quot; plan, to create an active subscription.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># We assume here your selected PlanQK Service provides a &quot;free&quot; plan</span>
free_plan <span class="token operator">=</span> service<span class="token punctuation">[</span><span class="token string">'pricing_plans'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="create-the-subscription"><a href="#create-the-subscription" class="header-anchor">#</a> Create the subscription</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>create_subscription_request <span class="token operator">=</span> CreateSubscriptionRequest<span class="token punctuation">(</span>application_id<span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> pricing_plan_id<span class="token operator">=</span>free_plan<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
marketplace_api<span class="token punctuation">.</span>create_subscription<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> create_subscription_request<span class="token operator">=</span>create_subscription_request<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You may add the following code to retrieve a list of all active subscriptions:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>subscriptions <span class="token operator">=</span> applications_api<span class="token punctuation">.</span>get_application_subscriptions<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/subscribe_service_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="working-with-planqk-organizations"><a href="#working-with-planqk-organizations" class="header-anchor">#</a> Working with PlanQK Organizations</h2> <p>To interact with organizations we first have to <a href="/manage-organizations.html">create one</a>.</p> <p>To perform operations in organization-context, you need to add the ID of your organization to the respective API operations
For example, the <code>create_managed_service(...)</code> method has an <code>x_organization_id</code> parameter that must be use in this regard.
If this parameter is not set, you operate in your personal space.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The ID of your organization can be found on your <a href="https://platform.planqk.de/settings/organizations" target="_blank" rel="noopener noreferrer">organization details page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on the PlanQK Platform.</p></div> <p>Extend your <code>application.py</code> class and add the following:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>organization_id <span class="token operator">=</span> <span class="token string">&quot;&lt;id of your organization&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="share-a-plankqk-service-in-an-organization"><a href="#share-a-plankqk-service-in-an-organization" class="header-anchor">#</a> Share a PlankQK Service in an Organization</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>name <span class="token operator">=</span> <span class="token string">&quot;Your service name&quot;</span>
quantumBackend <span class="token operator">=</span> <span class="token string">&quot;NONE&quot;</span>  <span class="token comment"># Default value</span>
description <span class="token operator">=</span> <span class="token string">&quot;Your service description&quot;</span>
use_platform_token <span class="token operator">=</span> <span class="token string">&quot;FALSE&quot;</span>  <span class="token comment"># FALSE to use own backend tokens in case 'quantumBackend' is 'DWAVE', 'IBM' etc.</span>
cpu <span class="token operator">=</span> <span class="token number">500</span>  <span class="token comment"># minimum</span>
memory <span class="token operator">=</span> <span class="token number">2048</span>  <span class="token comment"># default memory configuration: 2048 = 2GB</span>
user_code <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the user_code.zip file'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
api_definition <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Absolute path to the OpenAPI definition'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>

service <span class="token operator">=</span> services_api<span class="token punctuation">.</span>create_managed_service<span class="token punctuation">(</span>
    name<span class="token operator">=</span>name<span class="token punctuation">,</span>
    quantum_backend<span class="token operator">=</span>quantumBackend<span class="token punctuation">,</span>
    description<span class="token operator">=</span>description<span class="token punctuation">,</span>
    use_platform_token<span class="token operator">=</span>use_platform_token<span class="token punctuation">,</span>
    cpu<span class="token operator">=</span>cpu<span class="token punctuation">,</span>
    memory<span class="token operator">=</span>memory<span class="token punctuation">,</span>
    user_code<span class="token operator">=</span>user_code<span class="token punctuation">,</span>
    api_definition<span class="token operator">=</span>api_definition
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/organization_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="share-a-planqk-application-in-an-organization"><a href="#share-a-planqk-application-in-an-organization" class="header-anchor">#</a> Share a PlanQK Application in an Organization</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>create_app_request <span class="token operator">=</span> CreateApplicationRequest<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;My Application&quot;</span><span class="token punctuation">)</span>
application <span class="token operator">=</span> applications_api<span class="token punctuation">.</span>create_application<span class="token punctuation">(</span>create_application_request<span class="token operator">=</span>create_app_request<span class="token punctuation">,</span> x_organization_id<span class="token operator">=</span>organization_id<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/organization_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="create-internal-subscriptions-to-planqk-services-within-an-organization"><a href="#create-internal-subscriptions-to-planqk-services-within-an-organization" class="header-anchor">#</a> Create internal subscriptions to PlanQK Services within an Organization</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>subscription_request <span class="token operator">=</span> CreateInternalSubscriptionRequest<span class="token punctuation">(</span>application_id<span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> service_id<span class="token operator">=</span>service<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>

applications_api<span class="token punctuation">.</span>create_internal_subscription<span class="token punctuation">(</span>
    <span class="token builtin">id</span><span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
    create_internal_subscription_request<span class="token operator">=</span>subscription_request<span class="token punctuation">,</span>
    x_organization_id<span class="token operator">=</span>organization_id
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/organization_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="how-to-execute-a-planqk-service"><a href="#how-to-execute-a-planqk-service" class="header-anchor">#</a> How to execute a PlanQK service?</h2> <p>For the sake of the tutorial we assume you either published your own PlanQK Service internally and subscribed to it, or you just subscribed to PlanQK Service found on the PlanQK Marketplace.</p> <p>First of all, you have to acquire an access token based on your PlanQK Application credentials.
Extend your <code>application.py</code> with the following:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>access_token <span class="token operator">=</span> applications_api<span class="token punctuation">.</span>get_access_token<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>application<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'token'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>This access token must be sent as &quot;Authorization&quot; header in any request of the PlanQK Service API.
The header must follow the following template: <code>Authorization: Bearer &lt;your access token&gt;</code>.</p></div> <p>Each managed PlanQK Service provides three HTTP endpoints as its API (this may differ for &quot;external&quot; PlanQK Services, therefore, check in &quot;Marketplace &gt; Services &gt; Service Details &gt; Technical Specifications&quot; the published API description):</p> <ol><li><code>POST /</code>: Executes the service in an asynchronous fashion and returns an execution id</li> <li><code>GET /&lt;execution id&gt;</code>: Used to check the status of your execution</li> <li><code>GET /&lt;execution id&gt;/result</code>: Used to retrieve the final result for your execution</li></ol> <p>Let's prepare the input for the service execution.
Create a file, e.g. <code>input.json</code>, containing the <code>data</code> and <code>params</code> JSON structure as described by the PlanQK Service API description.</p> <details class="custom-block details"><summary>Example: input.json</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">5.2</span><span class="token punctuation">,</span>
      <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token number">9.4</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;round_off&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></details> <p>Extend your <code>application.py</code> with the following:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>input_data <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;Absolute path to your input file, e.g., 'input.json'&quot;</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>

<span class="token comment"># Prepare the HTTP payload to trigger an execution</span>
service_endpoint <span class="token operator">=</span> version<span class="token punctuation">.</span>gateway_endpoint
default_headers <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;Bearer </span><span class="token interpolation"><span class="token punctuation">{</span>access_token<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Now execute the service with the following code:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>execution <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span>service_endpoint<span class="token punctuation">,</span> data<span class="token operator">=</span>input_data<span class="token punctuation">,</span> headers<span class="token operator">=</span>default_headers<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Due to the fact the execution is asynchronous, you have to wait until the has been successfully executed.
Extend your <code>application.py</code> with the following code:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>current_status <span class="token operator">=</span> wait_for_execution_to_be_finished<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;The service execution is: </span><span class="token interpolation"><span class="token punctuation">{</span>current_status<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><details class="custom-block details"><summary>Method wait_for_execution_to_be_finished()</summary> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># Waits up to 5 minutes for a PlanQK Service execution to finish.</span>
<span class="token keyword">def</span> <span class="token function">wait_for_execution_to_be_finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status_timer <span class="token operator">=</span> <span class="token number">0</span>
    execution_status <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>status_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>default_headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> execution_status <span class="token operator">==</span> <span class="token string">'PENDING'</span><span class="token punctuation">:</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
        status_timer <span class="token operator">+=</span> <span class="token number">15</span>
        <span class="token keyword">if</span> status_timer <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Timeout exceeded waiting for PlanQK Service execution to be finished&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        execution_status <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>status_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>default_headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> execution_status <span class="token operator">==</span> <span class="token string">'SUCCEEDED'</span> <span class="token keyword">or</span> execution_status <span class="token operator">==</span> <span class="token string">'FAILED'</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> execution_status
            <span class="token keyword">break</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></details> <p>If the service execution was successful, you may retrieve the result of it:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">if</span> current_status <span class="token operator">==</span> <span class="token string">'SUCCEEDED'</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>status_url <span class="token operator">+</span> <span class="token string">'/result'</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>default_headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;The service execution result: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Congratulation, you successfully executed your subscribed PlanQK Service.</p> <p><a href="https://github.com/PlanQK/planqk-platform-samples/blob/master/planqk-api/python/planqk-samples/src/service_execution_sample.py" target="_blank" rel="noopener noreferrer">Code Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/PlanQK/planqk-platform-docs/edit/main/src/tutorials/cookbook-python.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tutorials/cookbook-java.html" class="prev">
        Automate PlanQK using Java
      </a></span> <!----></p></div> </main></div><div class="global-ui"><VueCustomTooltip></VueCustomTooltip><!----></div></div>
    <script src="/assets/js/app.05958cb9.js" defer></script><script src="/assets/js/2.acda9268.js" defer></script><script src="/assets/js/1.cf86e968.js" defer></script><script src="/assets/js/73.3ebed1b8.js" defer></script>
  </body>
</html>
