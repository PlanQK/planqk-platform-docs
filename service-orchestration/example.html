<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>A workflow example | PlanQK Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/material-symbols/outlined.css">
    <link rel="stylesheet" href="/material-symbols/customization.css">
    <link rel="stylesheet" href="/fontawesome/css/all.css">
    <script defer="defer" data-domain="docs.platform.planqk.de" src="https://plausible.anaqor.io/js/script.outbound-links.file-downloads.tagged-events.js"></script>
    <meta name="description" content="PlanQK Docs - Platform and Ecosystem for Quantum Applications">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.637df5cf.css" as="style"><link rel="preload" href="/assets/js/app.05958cb9.js" as="script"><link rel="preload" href="/assets/js/2.acda9268.js" as="script"><link rel="preload" href="/assets/js/1.cf86e968.js" as="script"><link rel="preload" href="/assets/js/68.23868e81.js" as="script"><link rel="prefetch" href="/assets/js/10.ce49439f.js"><link rel="prefetch" href="/assets/js/11.e8d19a4b.js"><link rel="prefetch" href="/assets/js/12.4198bb3e.js"><link rel="prefetch" href="/assets/js/13.0a27fdb0.js"><link rel="prefetch" href="/assets/js/14.dd66ed3e.js"><link rel="prefetch" href="/assets/js/15.5edd316a.js"><link rel="prefetch" href="/assets/js/16.faff0015.js"><link rel="prefetch" href="/assets/js/17.59a27870.js"><link rel="prefetch" href="/assets/js/18.f6493fcc.js"><link rel="prefetch" href="/assets/js/19.fdfe9baa.js"><link rel="prefetch" href="/assets/js/20.545f3679.js"><link rel="prefetch" href="/assets/js/21.9166dba7.js"><link rel="prefetch" href="/assets/js/22.e3da8f0b.js"><link rel="prefetch" href="/assets/js/23.b9dfda29.js"><link rel="prefetch" href="/assets/js/24.03fdae1b.js"><link rel="prefetch" href="/assets/js/25.a55846fa.js"><link rel="prefetch" href="/assets/js/26.226f71b8.js"><link rel="prefetch" href="/assets/js/27.bb6a2c25.js"><link rel="prefetch" href="/assets/js/28.d55ee4c9.js"><link rel="prefetch" href="/assets/js/29.f78f3526.js"><link rel="prefetch" href="/assets/js/3.746032a3.js"><link rel="prefetch" href="/assets/js/30.97def951.js"><link rel="prefetch" href="/assets/js/31.b816dc12.js"><link rel="prefetch" href="/assets/js/32.2f23c728.js"><link rel="prefetch" href="/assets/js/33.e5a8d9c0.js"><link rel="prefetch" href="/assets/js/34.c52d849b.js"><link rel="prefetch" href="/assets/js/35.9cc31a0d.js"><link rel="prefetch" href="/assets/js/36.1f2590b7.js"><link rel="prefetch" href="/assets/js/37.96bf9d5f.js"><link rel="prefetch" href="/assets/js/38.7f7a759b.js"><link rel="prefetch" href="/assets/js/39.19e86271.js"><link rel="prefetch" href="/assets/js/4.2b03963c.js"><link rel="prefetch" href="/assets/js/40.eac5173b.js"><link rel="prefetch" href="/assets/js/41.cb8db225.js"><link rel="prefetch" href="/assets/js/42.fb440fee.js"><link rel="prefetch" href="/assets/js/43.57b65087.js"><link rel="prefetch" href="/assets/js/44.89ed1dcc.js"><link rel="prefetch" href="/assets/js/45.d704ce4f.js"><link rel="prefetch" href="/assets/js/46.6fd42564.js"><link rel="prefetch" href="/assets/js/47.6244d42f.js"><link rel="prefetch" href="/assets/js/48.e409e0d8.js"><link rel="prefetch" href="/assets/js/49.228d5b09.js"><link rel="prefetch" href="/assets/js/5.e52cc9a6.js"><link rel="prefetch" href="/assets/js/50.cff1ba6e.js"><link rel="prefetch" href="/assets/js/51.84a7c46e.js"><link rel="prefetch" href="/assets/js/52.5f7ef8ba.js"><link rel="prefetch" href="/assets/js/53.0947e9e3.js"><link rel="prefetch" href="/assets/js/54.1f44e56b.js"><link rel="prefetch" href="/assets/js/55.f1a7e698.js"><link rel="prefetch" href="/assets/js/56.c4dcecf5.js"><link rel="prefetch" href="/assets/js/57.1de25ba9.js"><link rel="prefetch" href="/assets/js/58.fd3df8da.js"><link rel="prefetch" href="/assets/js/59.c5fadc31.js"><link rel="prefetch" href="/assets/js/6.34ff08e3.js"><link rel="prefetch" href="/assets/js/60.7bde9e3d.js"><link rel="prefetch" href="/assets/js/61.f3a7e6bb.js"><link rel="prefetch" href="/assets/js/62.09384c59.js"><link rel="prefetch" href="/assets/js/63.eb8467c1.js"><link rel="prefetch" href="/assets/js/64.03a24e27.js"><link rel="prefetch" href="/assets/js/65.aa53b344.js"><link rel="prefetch" href="/assets/js/66.f86993a5.js"><link rel="prefetch" href="/assets/js/67.61892c01.js"><link rel="prefetch" href="/assets/js/69.72aafe65.js"><link rel="prefetch" href="/assets/js/7.de9c1511.js"><link rel="prefetch" href="/assets/js/70.9528684e.js"><link rel="prefetch" href="/assets/js/71.36ce469a.js"><link rel="prefetch" href="/assets/js/72.2a182164.js"><link rel="prefetch" href="/assets/js/73.3ebed1b8.js"><link rel="prefetch" href="/assets/js/74.69a729cf.js"><link rel="prefetch" href="/assets/js/75.8bebdd76.js"><link rel="prefetch" href="/assets/js/76.58491d71.js"><link rel="prefetch" href="/assets/js/77.a9350b63.js"><link rel="prefetch" href="/assets/js/78.a50244c5.js"><link rel="prefetch" href="/assets/js/79.39965a2e.js"><link rel="prefetch" href="/assets/js/80.73100ad3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.857e8e87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.637df5cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/planqk.png" alt="PlanQK Docs" class="logo"> <span class="site-name can-hide">PlanQK Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">
  Tutorials &amp; Cookbooks
</a></div><div class="nav-item"><a href="https://www.planqk.de" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PlanQK Platform
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.planqk.de/pricing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pricing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://join.slack.com/t/planqk-platform/shared_invite/zt-1b4899wqr-xqOYLSCr8KqYkREi251NxQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">
  Tutorials &amp; Cookbooks
</a></div><div class="nav-item"><a href="https://www.planqk.de" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PlanQK Platform
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.planqk.de/pricing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pricing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://join.slack.com/t/planqk-platform/shared_invite/zt-1b4899wqr-xqOYLSCr8KqYkREi251NxQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/quickstart.html" class="sidebar-link">Quickstart</a></li><li><a href="/using-sdk.html" class="sidebar-link">Using the SDK</a></li><li><a href="/quantum-hardware.html" class="sidebar-link">Quantum Backends</a></li><li><a href="/sdk-reference.html" class="sidebar-link">SDK Reference</a></li><li><a href="/cli-reference.html" class="sidebar-link">CLI Reference</a></li><li><a href="/planqk-json-reference.html" class="sidebar-link">planqk.json Reference</a></li><li><a href="/manage-organizations.html" class="sidebar-link">Manage Organizations</a></li><li><a href="/manage-access-tokens.html" class="sidebar-link">Manage Access Tokens</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Implementations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/implementations/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/implementations/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/implementations/settings.html" class="sidebar-link">Implementation Settings</a></li><li><a href="/implementations/create-a-service.html" class="sidebar-link">Create a PlanQK service</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Managed Services</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/managed-services/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/managed-services/managed-services-runtime-interface.html" class="sidebar-link">Runtime Interface</a></li><li><a href="/managed-services/service-configuration.html" class="sidebar-link">Service Configuration</a></li><li><a href="/managed-services/managed-services-api-spec.html" class="sidebar-link">API Specification</a></li><li><a href="/managed-services/managed-services-jobs.html" class="sidebar-link">Run as a Job</a></li><li><a href="/managed-services/managed-services-custom-container.html" class="sidebar-link">Custom Docker Containers</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Using a Service</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applications.html" class="sidebar-link">Applications</a></li><li><a href="/using-a-service.html" class="sidebar-link">Using a Service</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>On-premise Services</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Service Orchestration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Demos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CICD-Integration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community Platform</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Third Party</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="a-workflow-example"><a href="#a-workflow-example" class="header-anchor">#</a> A workflow example</h1> <p>In this chapter, the set up of a workflow is described along a concrete example.</p> <p>The example consist of 2 service calls whereas the second service processes the result of teh first service call.</p> <h2 id="the-services"><a href="#the-services" class="header-anchor">#</a> The Services</h2> <p>For this example 2 services will be combined in a workflow:</p> <ul><li>stock time series service</li> <li>covariance generator</li></ul> <p>Both services have to be available, published and subscribed by an algorithm.</p> <h3 id="stock-time-series-service"><a href="#stock-time-series-service" class="header-anchor">#</a> Stock time series service</h3> <p>This service downloads the values of a given stock for a given time window.</p> <p>It takes as input data:</p> <table><thead><tr><th>Input Value</th> <th>Description</th></tr></thead> <tbody><tr><td>stock_symbols</td> <td>Array of stock names, e.g. <code>[&quot;IBM&quot;,&quot;AAPL&quot;]</code></td></tr> <tr><td>start_date</td> <td>The day of the first stock value to be retreived. Must be in form yyyy-mm-dd, e.g. <code>2022-01-01</code></td></tr> <tr><td>end_date</td> <td>The day of the last stock value to be retreived. Must be in form yyyy-mm-dd, e.g. <code>2022-02-02</code></td></tr></tbody></table> <p>It takes as input params:</p> <ul><li>no params</li></ul> <p>It returns as output:</p> <ul><li>A Json structure containing for each stock an array of date-value pairs.</li></ul> <h3 id="covariance-generator"><a href="#covariance-generator" class="header-anchor">#</a> Covariance generator</h3> <p>This service computes the covariance within an array of values.</p> <p>It takes as input data:</p> <table><thead><tr><th>Input Value</th> <th>Description</th></tr></thead> <tbody><tr><td>time_series_data</td> <td>A map of objects which contains a map of time/value pairs.</td></tr></tbody></table> <p>It takes as input params:</p> <table><thead><tr><th>Input Value</th> <th>Description</th></tr></thead> <tbody><tr><td>covariance_estimator</td> <td>name of algorithm to be taken for computation of covariance</td></tr> <tr><td>number_of_decimals</td> <td>number of ...</td></tr></tbody></table> <p>It returns as output:</p> <ul><li>A Json structure containing the shrunk covariance matrix.</li></ul> <h2 id="the-workflow-without-explicit-data-flow"><a href="#the-workflow-without-explicit-data-flow" class="header-anchor">#</a> The workflow without explicit data flow</h2> <p>Create a new workflow service. Go to the details page and open the workflow model editor.</p> <p>Create the following flow:</p> <img width="768" src="/images/workflow/workflow-example-v1.png" alt=""> <ul><li>drag 2 service nodes into the editor</li> <li>assign the 2 services to the nodes</li> <li>connect the nodes (start node -&gt; service node -&gt; service node -&gt; end node)</li></ul> <p>Now we need to configure the input/output data of the 2 service calls.</p> <p>Input/output data configuration of stock time series service call:</p> <ul><li>Click on the stock series service. On the right side of the editor you find the context menu for this node.</li></ul> <p>Configure the input params:</p> <ul><li>Click on the plus-button of the inputs param. Enter <code>stock_symbols</code> as name and <code>${wf_stock_symbols}</code> as value.
With this configuration you can later pass the stock symbol array as parameter <code>wf_stock_symbols</code> to the workflow.</li> <li>Click again on the plus-button of the inputs param. Enter <code>start_date</code> as name and <code>${wf_start_date}</code> as value.
With this configuration you can later pass the start date for the time series as parameter <code>wf_start_date</code> to the workflow.</li> <li>Click again on the plus-button of the inputs param. Enter <code>end_date</code> as name and <code>${wf_end_date}</code> as value.
With this configuration you can later pass the end date for the time series as parameter <code>wf_end_date</code> to the workflow.</li></ul> <p>Configure the output params:</p> <ul><li>Click on the plus-button of the outputs param. Enter <code>time_series_interim</code> as name and <code>${result.jsonPath(&quot;$.content&quot;).element()}</code> as value.
With this configuration the result of the stock series service call is written into a workflow environment parameter with name <code>time_series_interim</code> which then can be accessed by the second service.</li></ul> <p>Input/output data configuration of covariance service call:</p> <ul><li>Click on the covariance service. On the right side of the editor you find the context menu for this node.</li></ul> <p>Configure the input params:</p> <ul><li>Click on the plus-button of the inputs param. Enter <code>time_series</code> as name and <code>${time_series_interim}</code> as value.
With this configuration the interim result of the stock series service call is taken as input for the parameter <code>time_series</code>.</li> <li>Click again on the plus-button of the inputs param. Enter <code>params</code> as name and <code>&quot;{\&quot;covariance_estimator\&quot;: \&quot;LedoitWolf\&quot;, \&quot;number_of_decimals\&quot;: 4}&quot;</code> as value.
With this configuration the parameter for the covariance service call are hard coded within the workflow and doesn't need to be specified at call time.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/PlanQK/planqk-platform-docs/edit/main/src/service-orchestration/example.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><VueCustomTooltip></VueCustomTooltip><!----></div></div>
    <script src="/assets/js/app.05958cb9.js" defer></script><script src="/assets/js/2.acda9268.js" defer></script><script src="/assets/js/1.cf86e968.js" defer></script><script src="/assets/js/68.23868e81.js" defer></script>
  </body>
</html>
